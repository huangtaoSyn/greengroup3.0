<!DOCTYPE html> <html lang="zh-CN" class="no-js"> <head>	<meta charset="utf-8" />	<title>芜湖绿色能源有公司</title>   	<meta content="width=device-width, initial-scale=1.0" name="viewport" />	<link href="media/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>	<link href="media/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css"/>	<link href="media/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>	<link href="media/css/style-metro.css" rel="stylesheet" type="text/css"/>	<link href="media/css/style.css" rel="stylesheet" type="text/css"/>	<link href="media/css/style-responsive.css" rel="stylesheet" type="text/css"/>	<link href="media/css/default.css" rel="stylesheet" type="text/css" id="style_color"/>	<link href="media/css/uniform.default.css" rel="stylesheet" type="text/css"/>	<link href="media/css/jquery.gritter.css" rel="stylesheet" type="text/css"/>	<link href="media/css/daterangepicker.css" rel="stylesheet" type="text/css" />	<link href="media/css/fullcalendar.css" rel="stylesheet" type="text/css"/>	<link href="media/css/jqvmap.css" rel="stylesheet" type="text/css" media="screen"/>	<link href="media/css/jquery.easy-pie-chart.css" rel="stylesheet" type="text/css" media="screen"/>    <link rel="shortcut icon" href="media/image/favicon.ico" /></head><style>	a {		text-decoration: none;			}	a:hover{		cursor: pointer;	}    .validatename{        display: none;    }    .validatecreateTime{        display: none;    }</style><body class="page-header-fixed" ng-app="baselist" ng-controller="baselistController" ng-init="findAllBase()">	<!--    	作者：1105500250@qq.com    	时间：2019-02-24    	描述：顶部导航栏    -->	<div class="header navbar navbar-inverse navbar-fixed-top">        <div class="navbar-inner">            <div class="container-fluid">                <a class="brand" href="index.html">                   <span>格力公司</span>                </a>                <a href="javascript:;" class="btn-navbar collapsed" data-toggle="collapse" data-target=".nav-collapse">                    <img src="media/image/menu-toggler.png" alt="" />                </a>                          <ul class="nav pull-right">                    <li class="dropdown" id="header_inbox_bar">                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">                                <i class="icon-envelope"></i>                                <span class="badge">5</span>                        </a>                        <ul class="dropdown-menu extended inbox">                            <li>                                <p>现在有6个新通知</p>                            </li>                            <li>								<a href="inbox.html?a=view">								<span class="photo"><img src="media/image/avatar2.jpg" alt="" /></span>								<span class="subject">								<span class="from">部长</span>								<span class="time">Just Now</span>								</span>								<span class="message">								设备损坏								</span>  								</a>							</li>							<li>								<a href="inbox.html?a=view">								<span class="photo"><img src="./media/image/avatar3.jpg" alt="" /></span>								<span class="subject">								<span class="from">部长1</span>								<span class="time">16 mins</span>								</span>								<span class="message">								设备损坏								</span>  								</a>							</li>							<li>								<a href="inbox.html?a=view">								<span class="photo"><img src="./media/image/avatar1.jpg" alt="" /></span>								<span class="subject">								<span class="from">部长</span>								<span class="time">2 hrs</span>								</span>								<span class="message">								设备损坏								</span>  								</a>							</li>							<li class="external">								<a href="inbox.html">查看所有信息 <i class="m-icon-swapright"></i></a>							</li>						</ul>					</li>					<li class="dropdown user">						<a href="#" class="dropdown-toggle" data-toggle="dropdown">						<img alt="" src="media/image/avatar1_small.jpg" />						<span class="username">黄涛</span>						<i class="icon-angle-down"></i>						</a>						<ul class="dropdown-menu">                             <li><a href="login.html"><i class="icon-signout"></i>退出</a></li>                        </ul>					</li>									</ul>							</div>		</div>			</div>    <!--    	作者：1105500250@qq.com    	时间：2019-02-24    	描述：页面面板    -->      <div class="page-container">        <!--        	作者：1105500250@qq.com        	时间：2019-02-24        	描述：右侧面板        -->        <div class="page-sidebar nav-collapse collapse">            <ul class="page-sidebar-menu">            	<li>                    <div class="sidebar-toggler hidden-phone"></div>                </li>                <li>                    <form class="sidebar-search">                        <div class="input-box">							<a href="javascript:;" class="remove"></a>							<input type="text" placeholder="搜索..." />							<input type="button" class="submit" value=" " />                        </div>                    </form>                </li>                <li class="">                    <a href="javascript:;">                    <i class="icon-cogs"></i>                     <span class="title">生产线监控</span>                     <span class="arrow "></span>                    </a>                    <ul class="sub-menu">                        <li class="active">                           <a href="index.html">生产线监控</a>                        </li>                    </ul>				</li>                 <!--                 	作者：1105500250@qq.com                 	时间：2019-03-06                 	描述：备件管理                 -->				<li class="">					<a href="javascript:;">					<i class="icon-bookmark-empty"></i> 					<span class="title">备件管理</span>					<span class="arrow "></span>					</a>					<ul class="sub-menu">						<li >							<a href="备件库存.html">							备件库存</a>						</li>						<li >							<a href="备件入库.html">							备件入库</a>						</li>						<li >							<a href="备件出库.html">							备件出库</a>						</li>					</ul>				</li>				<!--                	作者：1105500250@qq.com                	时间：2019-03-06                	描述：设备养护检修                -->				<li class="">					<a href="javascript:;">					<i class="icon-stethoscope"></i> 					<span class="title">设备养护检修</span>					<span class="arrow "></span>					</a>					<ul class="sub-menu">						<li >							<a href="portlet_general.html">							故障信息汇总</a>						</li>						<li >							<a href="portlet_draggable.html">							设备点检</a>						</li>						<li >							<a href="portlet_draggable.html">							设备保养</a>						</li>					</ul>				</li>				<!--                	作者：1105500250@qq.com                	时间：2019-03-06                	描述：后台管理                -->               <li class="start active">					<a href="javascript:;">					<i class=" icon-cog"></i> 					<span class="title">后台管理</span>					<span class="arrow "></span>					</a>					<ul class="sub-menu">                        <li class="active">							<a href="baselist.html">							查看基地列表</a>						</li>						<li >							<a href="linerlist.html">							查看生产线列表</a>						</li>						<li >							<a href="devicelist.html">							查看设备列表</a>						</li>						<li >							<a href="creatliner.html">							创建生产线</a>						</li>                        <li >                            <a href="backdetect.html">                                查看所有生产线</a>                        </li>                    </ul>                </li>                <!--                	作者：1105500250@qq.com                	时间：2019-03-06                	描述：生产线运转能耗分析                -->				<li class="last ">					<a href="#">					<i class="icon-bar-chart"></i> 					<span class="title">生产线运转能耗分析</span>					</a>				</li>            </ul>        </div>	    <!--        	作者：1105500250@qq.com        	时间：2019-02-24        	描述：左侧面板        --> 		<div class="page-content">           			  <div class="container-fluid">				<div class="row-fluid">					<div class="span12">						<!--<div class="page-title">							后台管理 <small>基地列表</small>						</div>-->						<ul class="breadcrumb">							<li>								<i class="icon-home"></i>								<a href="index.html">后台管理</a> 								<i class="icon-angle-right"></i>							</li>							<li><a href="#">基地列表页面</a></li>						</ul>                    </div>				</div>								<div id="dashboard">                    					<div class="clearfix"></div>					<div class="row-fluid">						<div class="span12">							<div class="portlet box red">							<div class="portlet-title">								<div class="caption"><i class="icon-cogs"></i>基地列表</div>							</div>							<div class="portlet-body">                                   <div type="button" class="btn red" data-toggle="modal" data-target="#addbase">                                        <i class="icon-plus icon-white"></i>                                        <span>添加基地</span>                                    </div>                                   <div type="button" class="btn red delete"  data-toggle="modal" data-target="#commitdel">                                         <i class="icon-trash icon-white"></i>                                        <span>删除基地</span>                                    </div>                                <table class="table table-hover">                                    <thead>                                        <tr>                                            <th>选择</th>                                            <th>基地名</th>                                            <th>创建时间</th>                                            <th>操作</th>                                        </tr>									</thead>									<tbody>                                        <tr ng-repeat="base in list">                                            <td><input  type="checkbox" ng-click="updateSelection($event,base.id)"></td>                                            <td>{{base.bname}}</td>                                            <td>{{base.createTime}}</td>                                            <td><a href="#" class="btn mini purple" data-toggle="modal" data-target="#myModal0" ng-click="findOne(base.id)"><i class="icon-edit"></i>修改</a></td>                                        </tr>                                    </tbody>								</table>							</div>						</div>						<!-- END SAMPLE TABLE PORTLET-->						</div>                    </div>				</div>			</div>            </div>            <!--            	作者：1105500250@qq.com            	时间：2019-02-25            	描述：结束            -->		</div>			</div>	<!--页面底部-->	<div class="footer">		<div class="footer-inner">			2019 &copy; 芜湖绿色再生能源有限公司.		</div>		<div class="footer-tools">			<span class="go-top">			<i class="icon-angle-up"></i>			</span>		</div>	</div>    <!--修改基地名称-->         <div class="modal fade" id="myModal0" tabindex="-1" aria-labelledby="myModalLabel1">		  <div class="modal-dialog" role="document">		    <div class="modal-content">		       <div class="modal-header">                   <!--<button type="button" class="close" data-dismiss="modal"></button>-->		           <h4 class="modal-title">基地列表</h4>		       </div>                <div class="modal-body">                    <form class="form-horizontal">                        <div class="control-group">                                <label class="control-label">基地名称:</label>                                <div class="controls">                                    <input type="text" placeholder="基地名称" class="m-wrap small" ng-model="base1.bname">                                </div>                        </div>                        <div class="control-group">                                <label class="control-label">创建时间:</label>                                <div class="controls">                                    <input type="text" class="Wdate" wdate-picker  onClick="WdatePicker({onpicked: function(){$(this).trigger('change')},el:'d5421',readOnly:true,dateFmt:'yyyy-MM-dd'})" placeholder="选择日期" ng-model="base1.createTime">                                </div>                        </div>                    </form>                </div>                <div class="modal-footer">                    <button type="submit" class="btn blue" data-dismiss="modal" ng-click="updata()">保存</button>                    <button type="button" class="btn" data-dismiss="modal">取消</button>                </div>		      </div>          </div>     </div>    <!-- Modal  删除 -->    <div class="modal fade" id="commitdel" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">        <div class="modal-dialog" role="document">            <div class="modal-content">                <div class="modal-header">                   <!-- <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"></span></button>-->                    <h4 class="modal-title" id="myModalLabel">你输入删除密码</h4>                </div>                <div class="modal-body">                    <input type="text" placeholder="删除密码" class="m-wrap large" ng-model="password">                </div>                <div class="modal-footer">                    <button type="button" class="btn blue" data-dismiss="modal" ng-click="dele()">确认删除</button>                    <button type="button" class="btn btn-primary" data-dismiss="modal">取消</button>                </div>            </div>        </div>    </div>    <!--添加基地莫眼眶-->    <div class="modal fade" id="addbase" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">        <div class="modal-dialog" role="document">            <div class="modal-content">                <div class="modal-header">                    <!--<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"></span></button>-->                    <h4 class="modal-title" >添加基地</h4>                </div>                <div class="modal-body">                    <form  class="form-horizontal">                        <div class="control-group">                            <label class="control-label">基地名称</label>                            <div class="controls">                                <input type="text" placeholder="基地名称" class="m-wrap small" ng-model="base.bname">                                <span id="bname" class="validatename" style="color: red;line-height: 34px">基地名不能为空</span>                            </div>                        </div>                        <div class="control-group">                            <label class="control-label">创建时间</label>                            <div class="controls">                                <input type="text" class="Wdate" wdate-picker  onClick="WdatePicker({onpicked: function(){$(this).trigger('change')},el:'d5421',readOnly:true,dateFmt:'yyyy-MM-dd'})" placeholder="选择日期" ng-model="base.createTime">                                <span id="creattime" class="validatecreateTime" style="color: red;line-height: 34px">创建时间不能为空</span>                            </div>                        </div>                    </form>                </div>                <div class="modal-footer">                    <button type="button" id="addbasesave" class="btn blue" data-dismiss="modal" ng-click="save()">确认添加</button>                    <button type="button" class="btn btn-primary" data-dismiss="modal">取消</button>                </div>            </div>        </div>    </div>	<script src="media/js/jquery-1.10.1.min.js" type="text/javascript"></script>	<script src="media/js/jquery-migrate-1.2.1.min.js" type="text/javascript"></script>		<script src="media/js/jquery-ui-1.10.1.custom.min.js" type="text/javascript"></script>      	<script src="media/js/bootstrap.min.js" type="text/javascript"></script>		<script src="media/js/jquery.slimscroll.min.js" type="text/javascript"></script>	<script src="media/js/jquery.blockui.min.js" type="text/javascript"></script>  	<script src="media/js/jquery.cookie.min.js" type="text/javascript"></script>	<script src="media/js/jquery.uniform.min.js" type="text/javascript" ></script>	<script src="media/js/jquery.vmap.js" type="text/javascript"></script>   	<script src="media/js/jquery.vmap.russia.js" type="text/javascript"></script>	<script src="media/js/jquery.vmap.world.js" type="text/javascript"></script>	<script src="media/js/jquery.vmap.europe.js" type="text/javascript"></script>	<script src="media/js/jquery.vmap.germany.js" type="text/javascript"></script>	<script src="media/js/jquery.vmap.usa.js" type="text/javascript"></script>	<script src="media/js/jquery.vmap.sampledata.js" type="text/javascript"></script>  	<script src="media/js/jquery.flot.js" type="text/javascript"></script>	<script src="media/js/jquery.flot.resize.js" type="text/javascript"></script>	<script src="media/js/jquery.pulsate.min.js" type="text/javascript"></script>	<script src="media/js/date.js" type="text/javascript"></script>	<script src="media/js/daterangepicker.js" type="text/javascript"></script>     	<script src="media/js/jquery.gritter.js" type="text/javascript"></script>	<script src="media/js/fullcalendar.min.js" type="text/javascript"></script>	<script src="media/js/jquery.easy-pie-chart.js" type="text/javascript"></script>    <script src="DatePicker/WdatePicker.js" type="text/javascript"></script>	<script src="media/js/jquery.sparkline.min.js" type="text/javascript"></script>      <script src="media/js/app.js" type="text/javascript"></script>    <script src="media/js/index.js" type="text/javascript"></script>    <script type="text/javascript" src="media/js/angular.min.js"></script>    <script>		jQuery(document).ready(function() {		   App.init();             Index.init();		});        var app = angular.module("baselist",[]);        app.controller("baselistController",function ($scope,$http) {            //添加基地            /*           * 添加基地           * */            $scope.save = function () {                //表单验证                if($scope.base.bname === undefined || $scope.base.bname.trim().length ===0){                    angular.element('#bname').removeClass("validatename");                    angular.element("#addbasesave").removeAttr("data-dismiss");  //移除属性。                    return false;                }else if($scope.base.createTime ===undefined || $scope.base.createTime === null){                    angular.element('#creattime').removeClass("validatecreateTime");                    angular.element("#addbasesave").removeAttr("data-dismiss");  //移除属性。                    return false;                }                $http.post("../addBase.do",$scope.base).success(                    function(response){                        if(response.success){                            alert(response.info);                            $scope.findAllBase();                        }else{                            alert(response.info);                        }                    }                );                $scope.base={};  //添加完毕后删除input中的数据                angular.element('#bname').addClass("validatename");                angular.element('#creattime').addClass("validatecreateTime");            }            //查询所有            $scope.findAllBase = function() {                $http.get("../addAll.do").success(                  function (response) {                      $scope.list = response;                      console.log($scope.list);                  }                );            }            $scope.findOne = function (id) {                console.log(id);                $http.get("../findBaseById.do?id="+id).success(                    function (response) {                        $scope.base1 = response;                        console.log($scope.base);                    }                );            }            $scope.updata = function () {                $http.post("../updateBase.do",$scope.base1).success(                    function (response) {                        if(response.success){                            $scope.findAllBase();                            alert(response.info);                        }else{                            alert(response.info);                        }                    }                );                //$scope.base1 ={};                //$scope.findAllBase();            }//删除  获取id值            $scope.selectIds=[];            $scope.updateSelection = function($event, id) {                if($event.target.checked){//如果是被选中,则增加到数组                    $scope.selectIds.push( id);                }else{                    var idx = $scope.selectIds.indexOf(id);//查找值在集合中的位置                    $scope.selectIds.splice(idx, 1);//删除 1位移除的个数                }                console.log( $scope.selectIds);            }//删除事件            $scope.dele = function () {                if($scope.password === "12345") {                    $http.get('../dele.do?ids=' + $scope.selectIds).success(                        function (response) {                            if (response.success) {                                $scope.findAllBase();//刷新列表                                alert(response.info);                            }else {                                alert(response.info);                            }                        }                    );                }else {                    alert("密码错误");                }                $scope.password = "" ;            }//结束        });        app.directive('wdatePicker',function(){            return{                restrict:"A",                link:function(scope,element,attr){                    element.bind('click',function(){                        window.WdatePicker({                            onpicked: function(){element.change()},                            oncleared:function(){element.change()}                        })                    });                }            }        });	</script><script type="text/javascript">  var _gaq = _gaq || [];  _gaq.push(['_setAccount', 'UA-37564768-1']);  _gaq.push(['_setDomainName', 'keenthemes.com']);  _gaq.push(['_setAllowLinker', true]);  _gaq.push(['_trackPageview']);  (function() {    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;    ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);  })();</script></body></html>